<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sys commands</title>

    <link rel="icon" type="image/x-icon" href="static/images/favicon.ico">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="static/styles.css">

  </head>
  <body>
    <div class="mode">
      Dark mode:             
      <span class="change">OFF</span>
  </div>
    <div class="container">
      <h2>Machine Learning Technique</h2>
      <!-- <h2>Anime series and movies Rating</h2> -->
      <!-- <p>I will be able to give you a list of top 50 in each category</p>
      <p>Able to choose based on Year, Series vs Film, & Genre</p>
      <p>If the site is not working change your browser/check your internet connection</p>                                           -->
      
      <h3 style="display:inline;">Choose</h3>
      <div hidden class="dropdown" style="display:inline;">
        <select class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
        K series
        
        <option style="color:yellow" value="0" class="dropdown-item" >coding</option style="color:yellow">
        <option style="color:yellow" value="1" class="dropdown-item" >K movies</option style="color:yellow">
        </select>
      </div>

      <h3  style="display:inline;">&nbsp; Year</h3>
      <div hidden class="dropdown" style="display:inline;">
        <select class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false">
        2023
        
        <option style="color:yellow" value="0" class="dropdown-item" >All Year Combined</option style="color:yellow">
        <option style="color:yellow" value="1" class="dropdown-item" >2023</option style="color:yellow">
        <option style="color:yellow" value="2" class="dropdown-item" >2022</option style="color:yellow">
        <option style="color:yellow" value="3" class="dropdown-item" >2021</option style="color:yellow">
        <option style="color:yellow" value="4" class="dropdown-item" >2020</option style="color:yellow">
        <option style="color:yellow" value="5" class="dropdown-item" >2019</option style="color:yellow">
        <option style="color:yellow" value="6" class="dropdown-item" >2018</option style="color:yellow">
        <option style="color:yellow" value="7" class="dropdown-item" >2017</option style="color:yellow">
        <option style="color:yellow" value="8" class="dropdown-item" >2016</option style="color:yellow">
        <option style="color:yellow" value="9" class="dropdown-item" >2015</option style="color:yellow">
        <option style="color:yellow" value="10" class="dropdown-item" >2014</option style="color:yellow">
        <option style="color:yellow" value="11" class="dropdown-item" >2013</option style="color:yellow">
        <option style="color:yellow" value="12" class="dropdown-item" >2012</option style="color:yellow">
        <option style="color:yellow" value="13" class="dropdown-item" >2011</option style="color:yellow">
        <option style="color:yellow" value="14" class="dropdown-item" >2010</option style="color:yellow">
        <option style="color:yellow" value="15" class="dropdown-item" >2009</option style="color:yellow">
        <option style="color:yellow" value="16" class="dropdown-item" >2008</option style="color:yellow">
        <option style="color:yellow" value="17" class="dropdown-item" >2007</option style="color:yellow">
        <option style="color:yellow" value="18" class="dropdown-item" >2006</option style="color:yellow">
        <option style="color:yellow" value="19" class="dropdown-item" >2005</option style="color:yellow">
        <option style="color:yellow" value="20" class="dropdown-item" >2004</option style="color:yellow">
        <option style="color:yellow" value="21" class="dropdown-item" >2003</option style="color:yellow">
        <option style="color:yellow" value="22" class="dropdown-item" >2002</option style="color:yellow">
        <option style="color:yellow" value="23" class="dropdown-item" >2001</option style="color:yellow">
        <option style="color:yellow" value="24" class="dropdown-item" >2000</option style="color:yellow">
        <option style="color:yellow" value="25" class="dropdown-item" >1999</option style="color:yellow">
        <option style="color:yellow" value="26" class="dropdown-item" >1998</option style="color:yellow">
        <option style="color:yellow" value="27" class="dropdown-item" >1997</option style="color:yellow">
        <option style="color:yellow" value="28" class="dropdown-item" >1996</option style="color:yellow">
        <option style="color:yellow" value="29" class="dropdown-item" >1995</option style="color:yellow">
        <option style="color:yellow" value="30" class="dropdown-item" >1994</option style="color:yellow">
        <option style="color:yellow" value="31" class="dropdown-item" >1993</option style="color:yellow">
        <option style="color:yellow" value="32" class="dropdown-item" >1992</option style="color:yellow">
        <option style="color:yellow" value="33" class="dropdown-item" >1991</option style="color:yellow">
        <option style="color:yellow" value="34" class="dropdown-item" >1990</option style="color:yellow">
        <option style="color:yellow" value="35" class="dropdown-item" >1989</option style="color:yellow">
        <option style="color:yellow" value="36" class="dropdown-item" >1988</option style="color:yellow">
        <option style="color:yellow" value="37" class="dropdown-item" >1987</option style="color:yellow">
        <option style="color:yellow" value="38" class="dropdown-item" >1986</option style="color:yellow">
        <option style="color:yellow" value="39" class="dropdown-item" >1985</option style="color:yellow">
        <option style="color:yellow" value="40" class="dropdown-item" >1984</option style="color:yellow">
        <option style="color:yellow" value="41" class="dropdown-item" >1983</option style="color:yellow">
        <option style="color:yellow" value="42" class="dropdown-item" >1982</option style="color:yellow">
      </select>
      </div>

      <h3 style="display:inline;">&nbsp; Genre</h3>
      <div hidden class="dropdown" style="display:inline;">
        <select class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton3" data-bs-toggle="dropdown" aria-expanded="false">
        Thriller
        
        <option style="color:yellow" value="0" class="dropdown-item" >All Genre Combined</option style="color:yellow">  
        <option style="color:yellow" value="1" class="dropdown-item" >Comedy</option style="color:yellow">
        <option style="color:yellow" value="2" class="dropdown-item" >Sci-Fi</option style="color:yellow">
        <option style="color:yellow" value="3" class="dropdown-item" >Horror</option style="color:yellow">
        <option style="color:yellow" value="4" class="dropdown-item" >Romance</option style="color:yellow">
        <option style="color:yellow" value="5" class="dropdown-item" >Action</option style="color:yellow">
        <option style="color:yellow" value="6" class="dropdown-item" >Thriller</option style="color:yellow">
        <option style="color:yellow" value="7" class="dropdown-item" >Drama</option style="color:yellow">
        <option style="color:yellow" value="8" class="dropdown-item" >Mystery</option style="color:yellow">
        <option style="color:yellow" value="9" class="dropdown-item" >Crime</option style="color:yellow">
        <option style="color:yellow" value="10" class="dropdown-item" >Adventure</option style="color:yellow">
        </select>
      </div>

      <h3 style="display:inline;">&nbsp; List</h3>
      <div hidden class="dropdown" style="display:inline;">
        <select class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton4" data-bs-toggle="dropdown" aria-expanded="false">

        <option style="color:yellow" value="0" class="dropdown-item" >Top 50</option style="color:yellow">  
        <option style="color:yellow" value="1" class="dropdown-item" >Top 25</option style="color:yellow">
        <option style="color:yellow" value="2" class="dropdown-item" >Top 10</option style="color:yellow">
        </select>
      </div>

      <h3 style="display:inline;">&nbsp; â†’ &nbsp;</h3>
      

      <button class="btn btn-success btn-lg" type="button" onclick="mycall()">
        Enter
        </button>
        <h1></h1>

      <div id="showlist">
        <p id='embed' hidden >{{embed}}</p>
        <table hidden="true" class="table table-hover">
          <thead>
            <tr>
              <th scope="col">R</th>
              <th scope="col">N</th>
              <th scope="col">Y</th>
              <th scope="col">R</th>
              <th scope="col">T</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>1</th>
              <td>Mark</td>
              <td>Otto</td>
              <td>@mdo</td>
              <td>t</td>
            </tr>
          </tbody>
        </table>
        <div hidden="true" class="loader"></div>
      </div>


    </div>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    
    <script>

      // js code begins

      
      var url = ""
      var title_type="";
      var year="";
      var genre="";
      var list="";

      var yearindex="";
      var genreindex="";
      var listindex="";
      
      $(".change").click( function() {
          // alert("hello")
            if( $( "body" ).hasClass( "dark" )) {
              // alert("hello")
                $( "body" ).removeClass( "dark" );
                $("table").removeClass("table-dark");
                $( ".change" ).text( "OFF" );
            } else {
              // alert("hello")
                $( "body" ).addClass( "dark" );
                $( ".change" ).text( "ON" );
                $("table").addClass("table-dark");
            }
        });

        $("table").attr("hidden",true);

        $( window ).load(function() {
          // Run code
            ans=$("#embed").text();
            
            if(ans.length!=2)
            {
                ans=$("#embed").text();
                var quote_str='"employees":';
                ans=quote_str+ans;
                ans = '{'+ans+'}';
                // var b = ans.replace(/'/g, '"');
                // ans=JSON.parse(ans);
                // alert(ans);
                
                var a=10,b=25,c=50;
                if(listindex=="0")
                {
                  // for(var i=0;i<c;i++)
                  // {
                  // $("tbody").append("<tr><th>"+i+"</th><td>"+Mark+"</td><td>"+Otto+"</td><td>"+mdo+"</td><td>"+"https://www.youtube.com/results?search_query="+startup+"trailer"+"</td></tr>");
                  // }
                }

                $("table").attr("hidden",false);
            }

        });

        
      function mycall()
      {

        $(".loader").attr("hidden",false);        
          url="https://www.imdb.com/search/title/?num_votes=5000,&countries=kr&view=simple&sort=user_rating,desc"
          myVar = "hello";

          title_type=$("#dropdownMenuButton1 option:selected").text();
          year=$("#dropdownMenuButton2 option:selected").text();
          genre=$("#dropdownMenuButton3 option:selected").text();
          list=$("#dropdownMenuButton4 option:selected").text();

          yearindex=$("#dropdownMenuButton2 option:selected").val();
          genreindex=$("#dropdownMenuButton3 option:selected").val();
          listindex=$("#dropdownMenuButton4 option:selected").val();

          if(title_type=="coding")
              url = url + "&" + "title_type=tv_series";
          
          if(title_type=="K movies")
              url = url + "&" + "title_type=feature";

          if(yearindex!="0")
              url=url+"&"+"year="+year;
              
          if(genreindex!="0")
              url=url+"&"+"genres="+genre;
          
          // url+=("&"+list);
            
            url = JSON.stringify(url);   
            // alert(url)

            $.ajax({
            url:"/test",
            type:"POST",
            contentType: "application/json",
            data: JSON.stringify(url)})
            .then(function (response) {

                console.log(response);
                
                fetch('/')
                .then(function (response) {
                  // $(".loader").attr("hidden",false);
                  window.location.reload();
                    // return response.json();
                }).then(function (text) {
                    // console.log('GET response:');
                    // console.log(text); 
                    
                    
                });

              });
            
            // window.location.reload();

      }

      
      // js code ends
      


    </script>
    
  </body>
</html>

<!-- https://dataanalyticsireland.ie/2021/12/13/how-to-pass-a-javascript-variable-to-python-using-json/ -->
<!-- https://stackoverflow.com/questions/73791152/my-flask-app-is-running-into-a-couple-of-errors-regarding-not-being-able-to-find -->
